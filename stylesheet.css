* {
  min-height: 100%;
}

@font-face {
  font-family: 'OpenDyslexic';
  src: url('OpenDyslexic-Regular.woff')  format('woff'),
  url('OpenDyslexic-Regular.otf')  format('opentype'),
  url('OpenDyslexic-Regular.eot')  format('embedded-opentype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

:root {
  --bg-light: #bbffbb;
  --bg-light-gradient: linear-gradient(135deg, #bbffbb, #bbffff);
  --bg-dark:  #004400;
  --bg-dark-gradient: linear-gradient(135deg, #004400, #004444);
  --text-light: #000000;
  --text-dark:  #ffffff;
  --hc-bg: #000;         /* absolute black */
  --hc-fg: #fff;         /* absolute white */
  --hc-accent: #ffdd00;  /* bright yellow for focus/accents */
  --hc-link: #00ffff;    /* cyan links */
  --hc-link-hover: #00bcd4;
  --hc-danger: #ff00ff;  /* magenta alt accent (optional) */
}

body.social * {
  text-transform: lowercase;
  text-align: center;
}

/* Replace per-element borders with a single box around each .social container */
div.social {
  border: 2px solid #00cc00;
  padding: 1rem;
  margin: 1rem auto;
  border-radius: 8px;
  background: rgba(255,255,255,0.05); /* subtle background to make the box stand out */
  box-sizing: border-box;
  text-align: left; /* keep content aligned normally inside the box */
}

/* Small vertical spacing for direct children inside the social box */
div.social > * {
  margin: 0.35rem 0;
}

/* Theme-aware border colors */
body.light div.social {
  border-color: #00cc00;
}

body.dark div.social {
  border-color: #00cc00;
}

body.custom-theme div.social {
  border-color: var(--custom-button-bg);
}

/* High-contrast adjustment: use HC colors for the box */
body.high-contrast div.social {
  border-color: var(--hc-fg) !important;
  background: var(--hc-bg) !important;
}

/*h2.social {*/
/*  margin-top: 2rem;*/
/*  line-height: 0;*/
/*}*/

/*h3.social {*/
/*  margin-bottom: -0.75rem; !* reduced space under the heading *!*/
/*  line-height: 1rem;*/
/*}*/

body {
  background-color: var(--bg-light);
  background: var(--bg-light-gradient);
  color: var(--text-light);
  font-family: system-ui, sans-serif;
}

body.light {
  background-color: var(--bg-light);
  background: var(--bg-light-gradient);
  color: var(--text-light);
}
body.dark {
  background-color: var(--bg-dark);
  background: var(--bg-dark-gradient);
  color: var(--text-dark);
}




body.font-dyslexic {
  font-family: 'OpenDyslexic', system-ui, sans-serif !important;
}

body.font-dyslexic * {
  font-family: inherit !important;
}

.invert    { filter: invert(1); }
.grayscale { filter: grayscale(1); }



/* Theme-specific variables for High Contrast */
body.high-contrast.hc-dark {
  --hc-bg: #000000;
  --hc-fg: #ffffff;
  --hc-link: #00ffff;
  --hc-link-hover: #00dddd;
  --hc-accent: #ffff00;
}

body.high-contrast.hc-light {
  --hc-bg: #ffffff;
  --hc-fg: #000000;
  --hc-link: #0000ee;
  --hc-link-hover: #0055ff;
  --hc-accent: #aa00ff;
}

/* Nuke low-contrast effects */
body.high-contrast, body.light.high-contrast, body.dark.high-contrast * {
  background-color: var(--hc-bg) !important;
  background: var(--hc-bg) !important;
  box-shadow: none !important;
  text-shadow: none !important;
  /* Kill transitions so color changes are instant & readable */
  transition: none !important;
}

/* Links: bright + always underlined */
body.high-contrast a,
body.high-contrast a:visited {
  color: var(--hc-link) !important;
  text-decoration: underline !important;
}
body.high-contrast a:hover,
body.high-contrast a:focus {
  color: var(--hc-link-hover) !important;
  text-decoration: underline !important;
}

/* Clear, thick focus outline on all interactives */
body.high-contrast a,
body.high-contrast button,
body.high-contrast input,
body.high-contrast select,
body.high-contrast textarea,
body.high-contrast [role="button"] {
  outline-offset: 3px;
}
body.high-contrast :focus {
  outline: 3px solid var(--hc-accent) !important;
}

/* Buttons/selects/inputs: solid borders, no tints */
body.high-contrast button,
body.high-contrast select,
body.high-contrast input,
body.high-contrast textarea {
  background: var(--hc-bg) !important;
  color: var(--hc-fg) !important;
  border: 2px solid var(--hc-fg) !important;
}

/* Your green “button” link variant: keep it readable */
body.high-contrast a.button, body.high-contrast a.social-link {
  background: transparent !important;
  border: 2px solid var(--hc-fg) !important;
  color: var(--hc-fg) !important;
}

/* Optional: add borders to major containers if you use them */
body.high-contrast header,
body.high-contrast footer,
body.high-contrast nav,
body.high-contrast section,
body.high-contrast .card {
  border: 2px solid var(--hc-fg);
}



a {
  color: #0077cc;
  text-decoration: none;
}

a:hover {
  color: #005599;
  text-decoration: underline;
}

a:visited {
  color: #FF00fF;
}

a:visited:hover {
  color: #cc00cc;
}

a:active {
  color: #ff0000;
}

a.dark {
  color: #00FFFF;
  text-decoration: none;
}

a.dark:hover {
  color: #00DDDD;
  text-decoration: underline;
}

a.dark:visited {
  color: #FF00fF;
}

a.dark:active {
  color: #ff0000;
}


a.button {
  display: inline-block;
  padding: 0.5em;
  background: #00cc00;
  color: #ffffff;
  text-decoration: none;
  font-weight: bold;
}

a.button:visited {
  color: #ffffff;
}

a.button:hover {
  background: #00aa00;
  text-decoration: none;
}

a.social-link {
  display: inline-flex;             /* center content horizontally/vertically */
  justify-content: center;
  align-items: center;
  box-sizing: border-box;
  padding: 0.5em 0.75em;
  background: #00cc00;
  color: #ffffff;
  text-decoration: none;
  font-weight: bold;
  min-width: 0;
  height: 4em;
}

a.button:visited,
a.social-link:visited {
  color: #ffffff;
}

a.button:hover,
a.social-link:hover {
  background: #00aa00;
  text-decoration: none;
}

/* Page-specific fixed-width buttons: only apply on the Links page */
/* Only the social links on the Links page should be fixed width (nav buttons unchanged) */
a.social-link {
  width: 600px;
  margin: 0.25rem;
  display: inline-flex;
  justify-content: center;
  align-items: center;
}

a.skip-link {
  position: absolute;
  top: -9999px;
  width: 1px;
  height: 1px;
  overflow: hidden;
}

a.skip-link:focus {
  
  position: static;
  width: auto;
  height: auto;
  overflow: visible;
  padding: 0.5rem;
  background: #00cc00;
  color: #fff;
  z-index: 1000;
  text-decoration: none;
 font-weight: bold;
}

body.high-contrast a.skip-link:focus {
  background: var(--hc-bg) !important;
  color: var(--hc-fg) !important;
  border: 2px solid var(--hc-accent) !important;
}

header, footer, section, nav, main, article {
  display: block;
}

figure, figcaption {
  display: block;
}

select {
  display: inline-block;
  padding: 0.5em;
  background: #00cc00;
  color: #ffffff;
  text-decoration: none;
  font-weight: bold;
  align-content: end;
}

select:hover {
  background: #00aa00;
}

button.button {
  display: inline-block;
  padding: 0.5em;
  background: #00cc00;
  color: #ffffff;
  text-decoration: none;
  font-weight: bold;
  border: none;
  cursor: pointer;
}

button.button:hover {
  background: #00aa00;
}


@media (prefers-color-scheme: dark) {
  body {
    background-color: var(--bg-dark);
    background: var(--bg-dark-gradient);
    color: var(--text-dark);
  }

  body.text-outline {
  text-shadow:
    1px 0 0 rgba(0, 0, 0, 0.7),
    -1px 0 0 rgba(0, 0, 0, 0.7),
    0 1px 0 rgba(0, 0, 0, 0.7),
    0 -1px 0 rgba(0, 0, 0, 0.7);
  }
}


/* Custom theme overrides */
body.custom-theme {
  background-color: var(--custom-bg, #bbffbb);
  background: var(--custom-bg-gradient, var(--custom-bg, #bbffbb));
  color: var(--custom-text, #000000);
}

body.custom-theme a {
  color: var(--custom-link, #0077cc);
}

body.custom-theme a:hover {
  color: var(--custom-link-hover, #005599);
}

body.custom-theme a.button,
body.custom-theme a.social-link,
body.custom-theme select,
body.custom-theme button.button {
  background: var(--custom-button-bg, #00cc00);
  color: var(--custom-button-text, #ffffff);
}

body.custom-theme a.button:hover,
body.custom-theme a.social-link:hover,
body.custom-theme select:hover,
body.custom-theme button.button:hover {
  background: var(--custom-button-hover, #00aa00);
}

/* Accessibility toggles */
body.underline-links a:not(.button):not(.social-link) {
  text-decoration: underline;
  text-decoration-color: currentColor;
}

body.custom-theme.underline-links a:not(.button):not(.social-link) {
  text-decoration-color: var(--custom-underline, currentColor);
}

body.text-outline  {
  text-shadow:
    1px 0 0 rgba(255, 255, 255, 0.7),
    -1px 0 0 rgba(255, 255, 255, 0.7),
    0 1px 0 rgba(255, 255, 255, 0.7),
    0 -1px 0 rgba(255, 255, 255, 0.7);
}

body.dark.text-outline {
  text-shadow:
    1px 0 0 rgba(0, 0, 0, 0.7),
    -1px 0 0 rgba(0, 0, 0, 0.7),
    0 1px 0 rgba(0, 0, 0, 0.7),
    0 -1px 0 rgba(0, 0, 0, 0.7);
}

body.light.text-outline  {
  text-shadow:
    1px 0 0 rgba(255, 255, 255, 0.7),
    -1px 0 0 rgba(255, 255, 255, 0.7),
    0 1px 0 rgba(255, 255, 255, 0.7),
    0 -1px 0 rgba(255, 255, 255, 0.7);
}

body.custom-theme.text-outline,
body.custom-theme.text-outline * {
  text-shadow:
    1px 0 0 var(--custom-outline, rgba(0, 0, 0, 0.7)),
    -1px 0 0 var(--custom-outline, rgba(0, 0, 0, 0.7)),
    0 1px 0 var(--custom-outline, rgba(0, 0, 0, 0.7)),
    0 -1px 0 var(--custom-outline, rgba(0, 0, 0, 0.7));
}

body.text-outline input,
body.text-outline select,
body.text-outline textarea,
body.text-outline button {
  text-shadow: none;
}

body.text-outline a.button,
body.text-outline a.social-link,
body.text-outline select,
body.text-outline button.button {
  text-shadow:
    1px 0 0 rgba(0, 0, 0, 0.85),
    -1px 0 0 rgba(0, 0, 0, 0.85),
    0 1px 0 rgba(0, 0, 0, 0.85),
    0 -1px 0 rgba(0, 0, 0, 0.85);
}

body.custom-theme.text-outline a.button,
body.custom-theme.text-outline a.social-link,
body.custom-theme.text-outline select,
body.custom-theme.text-outline button.button {
  text-shadow:
    1px 0 0 var(--custom-button-text-opposite, rgba(255, 255, 255, 0.85)),
    -1px 0 0 var(--custom-button-text-opposite, rgba(255, 255, 255, 0.85)),
    0 1px 0 var(--custom-button-text-opposite, rgba(255, 255, 255, 0.85)),
    0 -1px 0 var(--custom-button-text-opposite, rgba(255, 255, 255, 0.85));
}

.custom-theme-panel {
  display: none;
  border: 2px solid rgba(0, 0, 0, 0.15);
  padding: 0.5rem;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.35);
}

body.custom-theme .custom-theme-panel {
  display: block;
}

.custom-theme-panel summary {
  cursor: pointer;
  font-weight: bold;
  margin-bottom: 0.35rem;
}

.custom-theme-controls {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  align-items: flex-end;
  justify-content: center;
}

.custom-theme-controls .field {
  margin: 0;
}

input[type="color"] {
  width: 3rem;
  height: 2rem;
  padding: 0;
  border: 2px solid #ffffff;
  background: transparent;
  cursor: pointer;
}

.custom-theme-controls input[type="checkbox"] {
  width: 1.1rem;
  height: 1.1rem;
  accent-color: var(--custom-button-bg, #00cc00);
  cursor: pointer;
}

.custom-theme-controls input[type="number"] {
  width: 4.5rem;
  padding: 0.2rem 0.35rem;
  font-weight: bold;
  border: 2px solid #ffffff;
  background: rgba(255, 255, 255, 0.85);
}

.custom-theme-controls textarea {
  min-width: 14rem;
  min-height: 2.5rem;
  padding: 0.35rem;
  border: 2px solid #ffffff;
  background: rgba(255, 255, 255, 0.85);
  resize: vertical;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
}

/* Make the right-side nav a flex row so selects and the button align */
nav.nav-right {
  display: flex;
  align-items: flex-end; /* align children to the bottom so the button lines up with selects */
  gap: 0.5rem;
  flex-wrap: wrap; /* allow wrapping on narrow screens */
}

/* Keep the right-side button vertically aligned with the controls */
nav.nav-right a.button {
  align-self: center;
}

/* Field wrapper for label+control pairs in the header */
.field {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  gap: 0.15rem;
  margin: 0 0.4rem;
}

.field label {
  font-size: 0.9rem;
  line-height: 1;
  display: block;
}

.field select {
  min-width: 10ch;
}



/* Responsive navbar: improve layout and touch targets on small screens */
@media (max-width: 640px) {
  header {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
  }

  /* Make both nav bars span full width and wrap neatly */
  nav.nav-left,
  nav.nav-right {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
    align-items: flex-end; /* keep button aligned with dropdowns on small screens */
    box-sizing: border-box;
    padding: 0 0.25rem;
  }

  /* Turn nav links into large, finger-friendly blocks */
  nav.nav-left a.button {
    flex: 1 1 100%; /* full width items stacked */
    padding: 0.75rem 0.5rem;
    font-size: 1.05rem;
    text-align: center;
    width: auto; /* allow full-width on mobile */
  }

  /* Make settings controls more compact and readable */
  nav.nav-right select {
    flex: 1 1 48%;
    min-width: 120px;
    padding: 0.5rem;
    font-size: 0.95rem;
  }

  /* Place the lightweight link full width under settings */
  nav.nav-right a.button {
    flex: 1 1 48%; /* allow it to sit next to selects */
    padding: 0.6rem;
    margin-top: 0; /* remove extra top spacing so it aligns with selects */
    align-self: center;
    text-align: center;
    min-width: 120px;
    width: auto; /* allow flexible width on mobile */
  }

  /* Show labels on small screens so users can see which control does what.
     Labels are displayed as compact blocks above their corresponding select. */
  nav.nav-right { position: relative; }
  nav.nav-right label {
    position: static;
    left: auto;
    width: auto;
    height: auto;
    overflow: visible;
    display: block;
    font-size: 0.92rem;
    margin: 0.15rem 0 0.05rem;
    text-align: center;
    color: inherit;
  }

  .field {
    flex: 1 1 48%;
    align-items: stretch;
  }

  /* Ensure custom theme panel sits on its own line on mobile */
  .custom-theme-panel {
    flex: 1 1 100%;
    width: 100%;
  }

  .field label {
    text-align: center;
  }

  /* Make social links flexible on small screens so they don't overflow */

  /* Place the lightweight link full width under settings */
  a.social-link {
    width: 90%;
    margin: 0.25rem;
    display: inline-flex;
    justify-content: center;
    align-items: center;
  }



}